<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>HTML 部署预览器</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .upload-section { margin-bottom: 20px; padding: 20px; border: 2px dashed #ccc; }
        #preview-container { width: 100%; height: 500px; border: 1px solid #ddd; display: none; }
        iframe { width: 100%; height: 100%; border: none; }
    </style>
</head>
<body>

    <h2>上传并嵌套 HTML 页面</h2>
    
    <div class="upload-section">
        <input type="file" id="html-upload" accept=".html">
        <p>选择一个 .html 文件立即预览</p>
    </div>

    <div id="preview-container">
        <h3>预览窗口：</h3>
        <iframe id="display-frame"></iframe>
    </div>

    <script>
        const fileInput = document.getElementById('html-upload');
        const frame = document.getElementById('display-frame');
        const container = document.getElementById('preview-container');

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file && file.type === "text/html") {
                // 1. 创建一个指向该文件的临时 Blob URL
                const blobURL = URL.createObjectURL(file);
                
                // 2. 将 URL 赋值给 iframe
                frame.src = blobURL;
                
                // 3. 显示预览区域
                container.style.display = 'block';

                // 释放内存（可选：在 iframe 加载完成后）
                frame.onload = () => {
                    // URL.revokeObjectURL(blobURL); 
                };
            } else {
                alert("请上传有效的 HTML 文件");
            }
        });
    </script>
</body>
</html>
